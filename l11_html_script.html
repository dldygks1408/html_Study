<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>html script</title>
  <style media="screen">
    .container{
      width: 100%;
      height: 500px;
      border: 1px solid black;
    }
    #moveEventInf{
      position: relative;
      background: #000;
      width: 470px;
      color: white;
    }
  </style>
</head>
<body>
  <main>
    <h1>HTML의 JavaScript</h1>
    <p>JavaScript는 document object가 생성된 후 실행되며 화면을 동적으로 만들어준다.
      <br>요소의 속성으로 on으로 시작하는 이벤트 속성은 특정 이벤트가 발생시 동작한다.
      <br>html 은 웹 컨텐츠의 구조와 의미를 정의하고 (구조적언어) css 는 구성된 html을 꾸며주고
      <br>JavaScript는 브라우저에서 유저의 이벤트를 받아 html(dom)과 bom, css를 수정한다.
    </p>
    <article>
      <h2>자바스크립트가 할 수 있는 일의 목록</h2>
      <ul>
        <li>모든 html 요소(dom)을 변경 할 수 있다.</li>
        <li>모든 html 요소의 속성을 변결 할 수 있다.</li>
        <li>모든 html 요소의 스타일을 변경 할 수 있다.</li>
        <li>기존 요소와 속성을 제거 할 수 있다.</li>
        <li>새로운 요소와 속성을 추가 할 수 있다.</li>
        <li>모든 이벤트에 반응할 수 있다.</li>
        <li>새로운 이벤트를 생성 할 수 있다.</li>
      </ul>
    </article>
    <article>
      <h2>DOMTree HTML 문서 객체 모델</h2>
      <p>HTML DOM은 HTML을 위한 표준 객체 모델로 브라우저의 프로그래밍 인터페이스다.<p>
        <ul>
          <li>HTML 요소를 Object 객체로 생성 후 DOMTree로 구성</li>
          <li>모든 HTML 속성을 property 로 구성</li>
          <li>모든 HTML Object를 액세스 하는 방법을 제공</li>
          <li>모든 html 요소에 이벤트 속성을 제공함</li>
        </ul>
    </article>
    <article>
      <h2>JavaScript HTML DOM Document</h2>
      <p>웹 페이지를 조작하려면 DOM 요소를(속성, 스타일) 수정, 삭제, 추가 해야하는데 <br>
        이를 위해서 document를 엑세스(참조) 해야한다.
      </p>
      <h3>Finding HTML Elements (Document 엑세스하기)</h3>
      <p>요소를 수정하기 위해서는 요소 하나만 엑세스해야한다.
        만약 HTMLCollection을 엑세스하면 배열에서 특정 Element를 선택해야한다.(HTMLCollection[0])
        <br>css는 복수의 요소를 모두 수정 할 수 있다. 예) .className{}, tag{}
        <br>HTMLCollection = [element, element, element, ...]
        <br>getElementById(id) => element
      </p>
      <ul>
        <li>document.getElementById("id") : id로 하나의 element를 엑세스한다.</li>
        <li>document.getElementsByClassName("class") : class로 복수의 elements(HTMLCollection)를 엑세스한다.</li>
        <li>document.getElementsByTagName("tag") : tag로 복수의 elements(HTMLCollection)를 엑세스한다.</li>
        <li>document.querySelector("cssSelector") : .,# 같은 css 선택자로 첫번째로 엑세스하는 하나의 element </li>
        <li>document.querySelectorAll("css선택자") : css 선택자로 복수의 elements를 엑세스한다.</li>
      </ul>
    </article>
    <article>
      <h2>Changing HTML Element(요소의 속성과 내용 수정)</h2>
      <p id="changingText" class="a b c" style="color : rgb(255,0,255,0.5)">요소 속성 및 내용 수정 테스트</p>
      <ul>
        <li>element.innerHTML = "<>new html<>" : 요소 내부의 컨텐츠를 변경 이때 요소를 추가 할 수 있다.
          <input type="button" value="내용 추가"
          onclick="document.getElementById('changingText').innerHTML='<b>html tag 포함 내용 수정</b>'">
        </li>
        <li>element.innerText = "text" : 요소 내부의 텍스트 변경
          <input type="button" value="텍스트 추가"
          onclick="document.getElementById('changingText').innerText='<b>내용 수정</b>'">
        </li>
        <li>element.outerHTML = "html" : 요소(엑세스 한 element 포함) 전체를 변경</li>
        <li>element.outerText = "text" : 요소 전체를 텍스트로 변경</li>
        <li>element.attribute(속성이름) = "value" : 요소 속성을 수정 or 값을 부여
          <br>[changingText의 class 이름 검색 :
            <script>
              document.write(document.getElementById('changingText').className);
              // 해당 위치에 document 내용을 추가한다.
            </script>
          ]
        </li>
        <li>element.style.property = "new style" : 요소 스타일을 변경
          <br>[#changingText의 font color :<span id="changingfont">
            <script>
              document.write("<b>" + document.getElementById('changingText').style.color + "</b>");
              //object CSSStyleDeclaration : 스타일 프로퍼티 모음
            </script>
            </span>
          ]
          <input type="button" value="보라색 문자 변경"
          onclick="document.getElementById('changingfont').style.color='rgba(255, 0, 255, 0.8)'">
        </li>

        <li>element.setAttribute(attribute, value) : 요소 속성과 값을 부여</li>
        <li>element.removeAttribute(attribute) : 요소 속성을 제거</li>
        <li>element.remove() : 요소 삭제
          <input type="button" value="요소 삭제"
          onclick="document.getElementById('removeTest').remove()">
        </li>
        <div style="background: #0ff; width:150px; height:50px; text-align:center; line-height:50px;" id="removeTest">
          삭제하세요.
        </div>
      </ul>
    </article>
    <article>
      <h2>Global 이벤트 속성</h2>
      <p>HTML 요소에 부여된 이벤트 속성으로 브라우저에서 이벤트 작업을 트리거 하는 기능이 있다. <br>
        요소 on으로 시작하는 이벤트 속성으로 HTML DOM 과 같이 생성되기 때문에 전역 이벤트로 지정된다.
        <br>Window, mouse, keyboard, form, clipboard, drag , media 이벤트가 있다.
        <h3>Mouse 이벤트</h3>
        <p>윈도우(브라우저)는 마우스의 이벤트를 발생 할 때까지 기다리고 있다.(리스너) <br>
          거의 모든 요소에 마우스 이벤트를 추가 할 수 있다.
        </p>
        <ul>
          <li>
            onclick : 마우스로 요소를 클릭하면 이벤트가 발생한다.
            <button type="button"
            onclick="document.querySelector('li:nth-child(1)').style.background='rgba(200,150,150,0.5)'"> 클릭
            </button>
          </li>
          <li>ondbclick : 마우스로 요소를 더블 클릭하면 이벤트가 발생한다.
            <button type="button"
            ondblclick="document.querySelector('li:nth-child(2)').style.background='rgba(0,0,255,0.5)'"> 더블 클릭
            </button>
          </li>
          <li>onmousedown : 마우스로 요소를 눌렀을때 이벤트가 발생한다.
            <button type="button"
            onmousedown="document.querySelector('li:nth-child(3)').style.textDecoration='underline'"> 누를때
            </button>
          </li>
          <li>onmouseup : 마우스로 요소를 눌렀다 놓았을때 이벤트가 발생한다.
            <button type="button"
            onmouseup="document.querySelector('li:nth-child(4)').style.textDecoration='underline'"> 놓았을때
            </button>
          </li>
          <li>onmousemove : 마우스 포인트가 요소 위를 이동 할 때 이벤트가 발생한다.
            <button type="button"
            onmousemove="document.querySelector('li:nth-child(5)').style.background='rgba(0,255,255,0.5)'"> 요소 위로 이동 할때
            </button>
          </li>
          <li>onmouseout : 요소에 높은 포인터가 빠져나갈때 이벤트가 발생한다.
            <button type="button"
            onmousemove="document.querySelector('li:nth-child(6)').style.textShadow='2px 2px'"> 포인터가 빠져나갈때
            </button>
          </li>
          <li>onmouseover  : 마우스 포인터가 요소 위로 올라갈때 이벤트가 발생한다.
            <button type="button"
            onmouseover="document.querySelector('li:nth-child(7)').style.textShadow='1px 1px 1px red'"> 요소 위로 올라갈때
            </button>
          </li>
          <li onmousewheel="this.style.background='rgba(0,255,255,0.5)'">onmousewheel : 요소 위에서 마우스 휠을 조작할때 이벤트가 발생한다.</li>
        </ul>
      </p>
      <h3>Mouse Event Object (event)</h3>
      <p>마우스 이벤트가 발생하면(onclick 설정된 요소를 클릭하면) event 이름의 MouseEvent 객체가 생성된다. <br>
        이때 event는 이벤트 시 마우스의 정보(위치,버튼)를 가지고 있다.
      </p>
      <ul>
        <li>event.button : 이벤트 발생시 누른 마우스 버튼을 반환 <br>
          (0: 왼쪽, 1: 휠, 2: 오른쪽) 마우스를 누르는 이벤트만 동작 default : 0
        </li>
        <li>event.which : 이벤트 발생시 누른 마우스 버튼을 반환 <br>
          (0: 누르지않음, 1: 왼쪽, 2: 휠, 3: 오른쪽)
        </li>
        <li>event.buttons : 이벤트 발생시 누른 마우스 버튼을 반환 *사파리에서 지원( X )<br>
          (0: 누르지않음, 1: 왼쪽, 2: 오른쪽, 3: 왼쪽+오른쪽, 4: 휠, 8: 뒤로가기, 16: 앞으로가기)
        </li>
        <li>pageX,Y : 문서(html) 전체를 기준으로 마우스 포인터의 x, y 좌표 반환</li>
        <li>clientX,Y : 현재 창(브라우저)을 기준으로 마우스 포인터의 x, y 좌표 반환</li>
        <li>screenX,Y : 화면 전체(모니터)를 기준으로 마우스 포인터의 x, y 좌표 반환</li>
        <li>offsetX,Y : 대상 요소의 가장자리를 기준으로 마우스 포인터의 x, y 좌표 반환</li>
      </ul>
      <h3>event(MouseEvent) 예제</h3>
      <div class="container"
        onmousemove="showEventInf(event,this)">
        <!-- position absolute 문서의 상단을 절대 기준으로 잡고 left top 위치로 이동
             position relative 요소의 상단을 절대 기준으로 잡고 left top 위치로 이동 -->
        <p id="moveEventInf"> </p>
      </div>
<script type="text/javascript">
//event는 이벤트 발생시 브라우저가 생성하는 객체
//this는 이벤트가 발생한 요소를 참조 (this는 최상위에서 window, html 문서에서는 document, 특정요소에서는 element)
  function showEventInf(e, thisObject){
    // var eventInf = "page X : " + e.pageX + "page Y : " + e.pageY;
    // var eventInf = "";
    // eventInf+= "button num : " + e.which;
    // eventInf= eventInf+ "<br>page X : "+ e.pageX + ", Y" + e.pageY;
    // eventInf= eventInf+ "<br>client X : "+ e.clientX + ", Y" + e.clientY;
    // eventInf+= "<br>screen X : "+ e.screenX + ", Y" + e.screentY;
    // eventInf+= "<br>offset X : "+ e.offsetX + ", Y" + e.offsetY;
    // 위 아래 같다. ↕
    var eventInf = "";
    eventInf += `<b>button num : ${e.button} / buttons num : ${e.buttons} / which num : ${e.which}<br>
                     page X : ${e.pageX} , page Y : ${e.pageY}  ●문서전체 기준<br>
                     client X : ${e.clientX} , client Y : ${e.clientY} ●현재창 기준<br>
                     screen X : ${e.screenX} , screen Y : ${e.screenY} ●화면 전체(모니터)를 기준<br>
                     offset X : ${e.offsetX} , offset Y : ${e.offsetY} ●대상 요소의 가장자리를 기준</b>`;
    // thisObject.innerHTML = eventInf;
    var movePoint = document.getElementById('moveEventInf');
    movePoint.innerHTML = eventInf;
    movePoint.style.top = (e.clientY-200) + 'px';
    movePoint.style.left = e.clientX + 'px';
  }

</script>
    </article>
    <article>
      <h2>양식 (Form) 이벤트</h2>
      <p>form 요소와 form 요소 내부의 입력 요소(input)가 입력(작업)을 할 때 트리거되는 이벤트</p>
      <ul>
        <li>onfocus : (입력)요소가 포커스를 받는 순간 이벤트 발생
          <input type="text" onfocus="this.style.background='blue'">
        </li>
        <li>onblur : (입력)요소가 포커스를 잃는 순간 이벤트 발생
          <input type="text" onblur="this.style.background='red'" placeholder="onblur">
        </li>
        <ul>
          <li> test(focus - bg : green, blur-bg : white )
            <input type="text"
              onfocus="this.style.background='green'"
              onblur="this.style.background='white'"></li>
        </ul>
        <li>onchange : 요소의 값(value)이 변경되는 순간 이벤트 발생
          <input type="text" onchange="document.getElementById('changeValueTest').innerHTML = this.value;" value="">
          <b id="changeValueTest"></b>
        </li>
        <li>oninput : 요소가 사용자의 입력을 받을때마다 이벤트 발생
          <input type="text" value=""
            oninput="alert(this.value)">
        </li>
        <li>oninvalid : 유효성 검사를 추가 (requried, pattern)</li>
        <li>onreset : 양식을 재설정(초기화, input type="reset")</li>
        <li>onsearch : type = "search" 인 요소에서 "Enter" or "X" 버튼을 누르면 발생
          <input type="search" name="" value="">
        </li>
        <li>onselect : 요소에서 일부 텍스트가 선택되면 실행(document.select():입력요소의 value 선택)</li>
        <li>onsubmit : 양식을 제출 할 때 (submit 버튼을 누를때)</li>
      </ul>
    </article>
    <article>
      <h2>Window Event 속성</h2>
      <p>Window 객체에 대해 트리거된 이벤트 (body 태그에 적용)</p>
      <p>onload : 페이지가 로딩이 완료된 후 실행</p>
    </article>
    <article>
      <h2>Keyboard Event 속성</h2>
      <ul>
        <li>onkeydown : 키보드 키를 누를 때 발생</li>
        <li>onkeypress : 키보드 키를 누를 때 발생</li>
        <li>onkeyup : 키보드 키를 놓을 때 발생</li>
      </ul>
    </article>
  </main>
</body>
</html>
